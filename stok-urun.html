<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Spradon Hafƒ±za ‚Ä¢ √úr√ºn Kartƒ±</title>

<style>
:root{
  --bg:#f4f6fb; --text:#111827; --muted:#6b7280;
  --card:#ffffff; --line:#e5e7eb;
  --pri:#2563eb; --pri2:#1d4ed8; --ok:#16a34a;
  --r:16px; --shadow:0 10px 25px rgba(0,0,0,.08);
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Arial,Helvetica,sans-serif;
  background:var(--bg);
  color:var(--text);
}
.wrap{
  max-width:760px;
  margin:0 auto;
  padding:24px;
}
.card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:var(--r);
  box-shadow:var(--shadow);
  padding:20px;
}
h1{margin:0 0 6px;font-size:20px}
.sub{color:var(--muted);font-size:13px;margin-bottom:14px}
label{font-size:13px;font-weight:600;margin-top:12px;display:block}
input,select{
  width:100%;
  padding:10px 12px;
  border-radius:12px;
  border:1px solid var(--line);
  margin-top:6px;
  font-size:14px;
}
input[type="file"]{padding:8px}
.btns{display:flex;gap:10px;margin-top:16px;flex-wrap:wrap}
button,a{
  border:0;border-radius:12px;
  padding:10px 14px;
  font-weight:700;
  cursor:pointer;
  text-decoration:none;
}
.primary{background:var(--pri);color:#fff}
.primary:hover{background:var(--pri2)}
.gray{background:#e5e7eb;color:#111827}
.ok{color:var(--ok);font-size:13px;margin-top:10px}
.err{color:#b91c1c;font-size:13px;margin-top:10px}
</style>
</head>

<body>
<div class="wrap">
  <div class="card">
    <h1>üßæ √úr√ºn Kartƒ± Olu≈ütur</h1>
    <div class="sub">Fotoƒüraf zorunludur. ƒ∞nternet yoksa cihazda saklanƒ±r.</div>

    <label>√úr√ºn Adƒ± (zorunlu)</label>
    <input id="urun" placeholder="√ñrn: 45'lik ma≈üon">

    <label>Birim (zorunlu)</label>
    <select id="birim">
      <option value="">Se√ßiniz</option>
      <option>Adet</option>
      <option>Kutu</option>
      <option>Kg</option>
      <option>Litre</option>
    </select>

    <label>Ba≈ülangƒ±√ß Miktarƒ± (zorunlu)</label>
    <input id="miktar" type="number" min="0" placeholder="√ñrn: 50">

    <label>√úr√ºn Fotoƒürafƒ± (zorunlu)</label>
    <input id="foto" type="file" accept="image/*">

    <div class="btns">
      <button class="primary" onclick="kaydet()">Kaydet</button>
      <a class="gray" href="stok.html">‚Ü© Stok Paneline D√∂n</a>
    </div>

    <div id="msg"></div>
  </div>
</div>

<script>
const KEY = "SPRADON_STOK_URUN_QUEUE_V1";

function kaydet(){
  const urun = document.getElementById("urun").value.trim();
  const birim = document.getElementById("birim").value;
  const miktar = document.getElementById("miktar").value;
  const foto = document.getElementById("foto").files[0];
  const msg = document.getElementById("msg");

  msg.innerHTML = "";

  if(!urun || !birim || !miktar || !foto){
    msg.innerHTML = "<div class='err'>‚ö†Ô∏è T√ºm alanlar ve fotoƒüraf zorunludur.</div>";
    return;
  }

  const reader = new FileReader();
  reader.onload = function(){
    const kayƒ±t = {
      id: "URUN-" + Date.now(),
      urun, birim,
      miktar: Number(miktar),
      foto: reader.result,
      zaman: new Date().toISOString()
    };

    let q = [];
    try{ q = JSON.parse(localStorage.getItem(KEY)) || []; }catch(e){}
    q.push(kayƒ±t);
    localStorage.setItem(KEY, JSON.stringify(q));

    msg.innerHTML = "<div class='ok'>‚úÖ √úr√ºn kartƒ± kaydedildi (offline).</div>";

    document.getElementById("urun").value="";
    document.getElementById("birim").value="";
    document.getElementById("miktar").value="";
    document.getElementById("foto").value="";
  };
  reader.readAsDataURL(foto);
}
</script>
</body>
</html>
